(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(38172)}])},38172:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var a=s(85893),l=s(67294),i=s(7654),n=s(25675),r=s.n(n),c=s(11163),o=s(88132),d=s(9784),x=s(14568),f=s(41664),m=s.n(f),u=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex p-6 w-11/12 md:w-full max-w-screen-xl flex-col items-start gap-4 flex-1 rounded-[36px] bg-[#ffffff80]",children:[(0,a.jsx)("div",{className:"flex justify-between items-start self-stretch",children:(0,a.jsx)("h3",{className:"text-base font-medium not-italic text-[#262626]",children:"NFT Storage"})}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-3 self-stretch",children:[(0,a.jsxs)("div",{className:"flex justify-between gap-5 items-end self-stretch",children:[(0,a.jsxs)("div",{className:"flex items-end gap-2",children:[(0,a.jsx)("h4",{className:"text-[#262626] text-xl not-italic font-semibold ",children:"0"}),(0,a.jsx)("div",{children:"|"}),(0,a.jsx)("h6",{className:"text-[#525252] text-sm font-normal not-italic",children:"0"})]}),(0,a.jsx)("div",{className:"text-[#525252] text-sm font-normal not-italic",children:"Expires : -"})]}),(0,a.jsx)(x.E,{value:33})]}),(0,a.jsx)("div",{className:"underline text-[#FF3838] font-normal not-italic text-sm",children:(0,a.jsx)(m(),{href:"/file-storage",children:"View Details"})})]})}),h=s(31376),p=s(7583),g=s(39332),j=s(83989),w=()=>{let{address:e,chainId:t,isConnected:s}=(0,i.Zc)(),{walletProvider:n}=(0,i.B0)(),{open:r}=(0,i.k_)();(0,g.useRouter)();let[c,f]=(0,l.useState)(null),[u,w]=(0,l.useState)("");(0,l.useRef)(null);let[C,v]=(0,l.useState)(null),[b,N]=(0,l.useState)(null),[y,S]=(0,l.useState)(!1),[M,F]=(0,l.useState)(""),[k,H]=(0,l.useState)(""),[Z,V]=(0,l.useState)(!1),[E,D]=(0,l.useState)(!1),[L,_]=(0,l.useState)(!1),[A,B]=(0,l.useState)([]),[T,z]=(0,l.useState)(0),[P,R]=(0,l.useState)(0),[W,I]=(0,l.useState)(0),[O,U]=(0,l.useState)(0),[$,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(0),[J,K]=(0,l.useState)([]),[Y,G]=(0,l.useState)("All Files"),[ee,et]=(0,l.useState)(0),[es,ea]=(0,l.useState)(0),[el,ei]=(0,l.useState)(0),[en,er]=(0,l.useState)(0),[ec,eo]=(0,l.useState)(!1),[ed,ex]=(0,l.useState)(!1),[ef]=(0,l.useState)(100),[em]=(0,l.useState)(500),[eu,eh]=(0,l.useState)(100),[ep,eg]=(0,l.useState)("0.005"),[ej,ew]=(0,l.useState)(1),[eC,ev]=(0,l.useState)(1),[eb,eN]=(0,l.useState)(5),[ey,eS]=(0,l.useState)(!1),eM=e=>{let t=0,s=0,a=0,l=0;e.forEach(e=>{switch(e.fileName.split(".").pop().toLowerCase()){case"doc":case"docx":case"pdf":case"txt":t+=Number(e.fileSize);break;case"jpg":case"jpeg":case"png":case"gif":s+=Number(e.fileSize);break;case"mp3":case"wav":case"aac":a+=Number(e.fileSize);break;case"mp4":case"avi":case"mkv":l+=Number(e.fileSize)}}),z(t),R(s),I(a),U(l)},eF=e=>{let t=0,s=0,a=0,l=0;e.forEach(e=>{switch(e.fileName.split(".").pop().toLowerCase()){case"doc":case"docx":case"pdf":case"txt":t+=1;break;case"jpg":case"jpeg":case"png":case"gif":s+=1;break;case"mp3":case"wav":case"aac":a+=1;break;case"mp4":case"avi":case"mkv":l+=1}}),et(t),ea(s),ei(a),er(l)},ek=(e,t)=>{switch(e){case"Documents":return t.filter(e=>["doc","docx","pdf","txt"].includes(e.fileName.split(".").pop().toLowerCase()));case"Images":return t.filter(e=>["jpg","jpeg","png","gif"].includes(e.fileName.split(".").pop().toLowerCase()));case"Videos":return t.filter(e=>["mp4","avi","mkv"].includes(e.fileName.split(".").pop().toLowerCase()));case"Audios":return t.filter(e=>["mp3","wav","aac"].includes(e.fileName.split(".").pop().toLowerCase()));default:return t}};return(0,l.useEffect)(()=>{(async()=>{if(n)try{let t=new h.Q(n),s=await t.getSigner(),a=new p.CH("0xf091fD2Eb52595fB00E3f8AB5259f9947E9Ea891",o.Mt,s);v(a);let l=new p.CH("0xb34a24de1f22a5ee71b08388b321e0d47d1b8f0e",d.Mt,s);N(l);let i=await a.getUserFiles(e);B(i),eM(i),eF(i),K(ek(Y,i));let r=await l.getUserTotalValidPlanSize(e);q(Number(r)),X(i.length)}catch(e){console.log("Error connecting to metamask",e)}})()},[n,e,s,Y]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex p-6 w-full max-w-screen-xl flex-col items-start gap-4 flex-1 rounded-[36px] bg-[#ffffff80]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center gap-4 self-stretch mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-[#333]",children:"My Storage Space"}),(0,a.jsxs)("span",{children:[Q,"/",$]})]}),(0,a.jsx)(x.E,{className:"w-full ",value:Q/$*100}),(0,a.jsxs)("div",{className:"flex w-fit items-center gap-x-1.5 pt-4 text-base font-medium text-red cursor-pointer",children:[(0,a.jsx)(m(),{href:"/file-storage",children:(0,a.jsx)("span",{className:"border-b-2 border-red",children:"Buy More Storage"})}),(0,a.jsx)(j.Z,{})]})]})})},C=s(26495),v=s(23148);v.kL.register(v.qi,v.u,v.De);var b=e=>{let{documentCount:t,imageCount:s,audioCount:l,videoCount:i,totalValidPlanSize:n}=e,r=(t+s+l+i)/n*100;return(0,a.jsxs)("div",{className:"flex  rounded-[36px] w-full max-w-[500px] p-6  items-start md:gap-6 justify-center self-center mx-auto bg-[#ffffff80]  space-x-8",children:[(0,a.jsxs)("div",{className:"relative w-40 h-40",children:[(0,a.jsx)(C.$I,{data:{datasets:[{data:[t,s,l,i],backgroundColor:["#53B1FD","#9B8AFB","#FD6F8E","#E879F9"],borderWidth:0,borderRadius:20,spacing:5}]},options:{cutout:"80%",plugins:{tooltip:{enabled:!1},legend:{display:!1}}}}),(0,a.jsx)("div",{className:"absolute  inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"absolute  inset-0 flex items-center justify-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"96",height:"96",viewBox:"0 0 76 76",fill:"none",className:"relative",children:(0,a.jsx)("circle",{cx:"38",cy:"38",r:"38",fill:"white"})}),(0,a.jsxs)("span",{className:"text-base  absolute font-bold",children:[r?r.toFixed(2):"-","% Used"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#53B1FD"}}),(0,a.jsx)("span",{children:"Document"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#9B8AFB"}}),(0,a.jsx)("span",{children:"Images"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#FD6F8E"}}),(0,a.jsx)("span",{children:"Audios"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#E879F9"}}),(0,a.jsx)("span",{children:"Videos"})]})]})]})};v.kL.register(v.uw,v.f$,v.ZL,v.Dx,v.u,v.De);let N=e=>Array.from({length:e},(e,t)=>"".concat(t+1)),y=e=>Array.from({length:e},()=>Math.floor(100*Math.random()));var S=()=>{let[e,t]=(0,l.useState)(5),[s,i]=(0,l.useState)(0),[n,r]=(0,l.useState)(null),c=(0,l.useMemo)(()=>new Date(2024,e+1,0).getDate(),[e]),o=(0,l.useMemo)(()=>Math.ceil(c/7),[c]),d=7*s,x=Math.min(d+7,c),f=(0,l.useMemo)(()=>({labels:N(c).slice(d,x),datasets:[{label:"NFT Storage",data:y(c).slice(d,x),backgroundColor:e=>{let t=e.dataIndex;return null===n?"#FF3838":t===n?"#FF3838":"rgba(255, 56, 56, 0.24)"},borderColor:"rgba(0, 0, 0, 0)",borderWidth:0,borderRadius:8}]}),[c,d,x,n]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col bg-[#ffffff80] rounded-[36px] p-6 gap-6 items-start w-full h-full md:w-[500px]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center h-full w-full mb-4",children:[(0,a.jsxs)("div",{className:"flex gap-3 items-center h-full",children:[(0,a.jsx)("label",{htmlFor:"month",className:"bg-none",children:"Select Month:"}),(0,a.jsxs)("select",{id:"month",value:e,onChange:e=>{t(Number(e.target.value)),i(0)},className:"bg-none",children:[(0,a.jsx)("option",{value:2,children:"March"}),(0,a.jsx)("option",{value:3,children:"April"}),(0,a.jsx)("option",{value:4,children:"May"}),(0,a.jsx)("option",{value:5,children:"June"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 h-full",children:[(0,a.jsx)("button",{onClick:()=>{i(e=>Math.max(e-1,0))},disabled:0===s,className:"p-1 ".concat(0===s?"text-gray-300":"text-red-500"),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",children:(0,a.jsx)("path",{d:"M7.49992 10.46L4.23992 7.20004C3.85492 6.81504 3.85492 6.18504 4.23992 5.80004L7.49992 2.54004",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("span",{className:"text-red-500",children:"Page ".concat(s+1," of ").concat(o)}),(0,a.jsx)("button",{onClick:()=>{i(e=>Math.min(e+1,o-1))},disabled:s===o-1,className:"p-1 ".concat(s===o-1?"text-gray-300":"text-red-500"),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",children:(0,a.jsx)("path",{d:"M4.45508 10.46L7.71508 7.20004C8.10008 6.81504 8.10008 6.18504 7.71508 5.80004L4.45508 2.54004",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),(0,a.jsx)(C.$Q,{data:f,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>{let t=e.raw;return"Value: ".concat(t)}}}},scales:{y:{beginAtZero:!0,grid:{display:!1},ticks:{display:!1},border:{display:!1}},x:{grid:{display:!1},border:{display:!1}}},onHover:(e,t)=>{t.length?r(t[0].index):r(null)}}})]})})},M=s(83253),F=s.n(M),k=s(29161),H=s(55678),Z=s(5305),V=()=>{let{address:e,chainId:t,isConnected:s}=(0,i.Zc)(),{walletProvider:n}=(0,i.B0)(),[r,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)([]),[x,f]=(0,l.useState)(!1),[u,g]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[v,b]=(0,l.useState)(),N=e=>{g(e),c(!0)};async function y(){if(e)try{let t=await fetch("/api/getDomains/".concat(e)),s=await t.json();s&&Array.isArray(s)&&(d(s),console.log(s))}catch(e){console.error("Failed to fetch domain names:",e)}}async function S(){if(v&&u&&w)try{let e=await v.setContentHash(u,w);H.Am.info("Waiting for block confirmation..."),await e.wait(),H.Am.success("Content hash set successfully"),c(!1)}catch(e){console.error("Failed to set content hash:",e),H.Am.error("Failed to set content hash")}}return(0,l.useEffect)(()=>{s&&y()},[e,s]),(0,l.useEffect)(()=>{(async()=>{if(n)try{let e=new h.Q(n),t=await e.getSigner(),s=new p.CH("0xd88B01dDCA28EC7B893061Dd8812C3d90d5CEFD2",k.Mt,t);b(s)}catch(e){console.log("Error connecting to metamask",e)}})()},[n]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex w-[98%] md:w-full max-w-[774px] flex-col items-start gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8 self-stretch",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-start  gap-1 flex-1  ",children:[(0,a.jsx)("div",{className:"text-[#262626] text-2xl not-italic font-bold ",children:"My Domains"}),(0,a.jsx)("p",{className:"text-sm text-[#262626] font-normal not-italic",children:"Truly decentralized domain names on the Destra DNS. Leverage the true power of decentralization connecting these to Destra Decentralized Web Hosting."})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center w-fit cursor-pointer",children:[(0,a.jsx)(m(),{href:"/destra-domains",children:(0,a.jsx)("p",{className:"underline text-[#737373] text-sm font-medium not-italic",children:"see All"})}),(0,a.jsx)(j.Z,{})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-6 overflow-x-auto",children:[o.length>0&&o.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex-none w-full md:w-[22rem] flex flex-col items-start gap-6 rounded-3xl bg-white px-6 py-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("a",{href:(s=e.txHash,"https://etherscan.io/tx/".concat(s)),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,a.jsx)("path",{d:"M12 22.75C6.07 22.75 1.25 17.93 1.25 12C1.25 6.07 6.07 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 17.93 17.93 22.75 12 22.75ZM12 2.75C6.9 2.75 2.75 6.9 2.75 12C2.75 17.1 6.9 21.25 12 21.25C17.1 21.25 21.25 17.1 21.25 12C21.25 6.9 17.1 2.75 12 2.75Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M9.00023 21.75H8.00023C7.59023 21.75 7.25023 21.41 7.25023 21C7.25023 20.59 7.57023 20.26 7.98023 20.25C6.41023 14.89 6.41023 9.11 7.98023 3.75C7.57023 3.74 7.25023 3.41 7.25023 3C7.25023 2.59 7.59023 2.25 8.00023 2.25H9.00023C9.24023 2.25 9.47023 2.37 9.61023 2.56C9.75023 2.76 9.79023 3.01 9.71023 3.24C7.83023 8.89 7.83023 15.11 9.71023 20.77C9.79023 21 9.75023 21.25 9.61023 21.45C9.47023 21.63 9.24023 21.75 9.00023 21.75Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M15.0004 21.7497C14.9204 21.7497 14.8404 21.7397 14.7604 21.7097C14.3704 21.5797 14.1504 21.1497 14.2904 20.7597C16.1704 15.1097 16.1704 8.88969 14.2904 3.22969C14.1604 2.83969 14.3704 2.40969 14.7604 2.27969C15.1604 2.14969 15.5804 2.35969 15.7104 2.74969C17.7004 8.70969 17.7004 15.2697 15.7104 21.2197C15.6104 21.5497 15.3104 21.7497 15.0004 21.7497Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M12 17.1998C9.21 17.1998 6.43 16.8098 3.75 16.0198C3.74 16.4198 3.41 16.7498 3 16.7498C2.59 16.7498 2.25 16.4098 2.25 15.9998V14.9998C2.25 14.7598 2.37 14.5298 2.56 14.3898C2.76 14.2498 3.01 14.2098 3.24 14.2898C8.89 16.1698 15.12 16.1698 20.77 14.2898C21 14.2098 21.25 14.2498 21.45 14.3898C21.65 14.5298 21.76 14.7598 21.76 14.9998V15.9998C21.76 16.4098 21.42 16.7498 21.01 16.7498C20.6 16.7498 20.27 16.4298 20.26 16.0198C17.57 16.8098 14.79 17.1998 12 17.1998Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M20.9998 9.75035C20.9198 9.75035 20.8398 9.74035 20.7598 9.71035C15.1098 7.83035 8.87978 7.83035 3.22978 9.71035C2.82978 9.84035 2.40978 9.63035 2.27978 9.24035C2.15978 8.84035 2.36978 8.42035 2.75978 8.29035C8.71978 6.30035 15.2798 6.30035 21.2298 8.29035C21.6198 8.42035 21.8398 8.85035 21.6998 9.24035C21.6098 9.55035 21.3098 9.75035 20.9998 9.75035Z",fill:"#FF3838"})]})}),(0,a.jsx)("div",{className:"text-center text-base font-semibold text-[#262626]",children:e.domainName})]}),(0,a.jsx)("div",{children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",onClick:()=>N(e.domainName),children:(0,a.jsx)("path",{d:"M12 12V14C13.1046 14 14 13.1046 14 12H12ZM12 12H10C10 13.1046 10.8954 14 12 14V12ZM12 12V10C10.8954 10 10 10.8954 10 12H12ZM12 12H14C14 10.8954 13.1046 10 12 10V12ZM12 5V7C13.1046 7 14 6.10457 14 5H12ZM12 5H10C10 6.10457 10.8954 7 12 7V5ZM12 5V3C10.8954 3 10 3.89543 10 5H12ZM12 5H14C14 3.89543 13.1046 3 12 3V5ZM12 19V21C13.1046 21 14 20.1046 14 19H12ZM12 19H10C10 20.1046 10.8954 21 12 21V19ZM12 19V17C10.8954 17 10 17.8954 10 19H12ZM12 19H14C14 17.8954 13.1046 17 12 17V19Z",fill:"#262626"})})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4 w-full pt-3",children:[(0,a.jsx)("div",{className:"text-center text-sm font-medium text-[#737373]",children:"Purchased on Aug 2024"}),(0,a.jsx)("div",{className:"text-center text-sm font-medium text-[#737373]",children:"Expires on: March 2024"})]})]},t)}),(0,a.jsxs)(Z.Vq,{open:r,onOpenChange:c,children:[(0,a.jsx)(Z.hg,{asChild:!0}),(0,a.jsx)(Z.cZ,{className:"bg-white border border-[#6a6a6a]",children:(0,a.jsxs)(Z.fK,{children:[(0,a.jsxs)("h1",{className:"font-bold text-xl py-4",children:["Set Content Hash for"," ",(0,a.jsx)("span",{className:"text-[#FF0800] font-bold text-xl",children:u})]}),(0,a.jsxs)("div",{className:"mt-5 sm:flex sm:items-center",children:[(0,a.jsxs)("div",{className:"w-full sm:max-w-xs",children:[(0,a.jsx)("label",{htmlFor:"contentHash",className:"sr-only",children:"Content Hash"}),(0,a.jsx)("input",{type:"text",value:w,onChange:e=>C(e.target.value),className:"block w-full bg-[#09071014] border-[#ffffff29] border border-solid rounded-2xl text-start px-2 py-1.5 text-black sm:text-sm sm:leading-6",placeholder:"New content hash"})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsxs)("button",{onClick:S,className:"flex gap-1 bg-[#FF0800] rounded-2xl w-full items-center justify-center px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:ml-3 sm:mt-0 sm:w-auto",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_627_1287)",children:(0,a.jsx)("path",{d:"M14.6667 3H4.66667C3.74583 3 3 3.74583 3 4.66667V16.3333C3 17.2542 3.74583 18 4.66667 18H16.3333C17.2542 18 18 17.2542 18 16.3333V6.33333L14.6667 3ZM10.5 16.3333C9.12083 16.3333 8 15.2125 8 13.8333C8 12.4542 9.12083 11.3333 10.5 11.3333C11.8792 11.3333 13 12.4542 13 13.8333C13 15.2125 11.8792 16.3333 10.5 16.3333ZM13 8H4.66667V4.66667H13V8Z",fill:"white"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_627_1287",children:(0,a.jsx)("rect",{width:"20",height:"20",fill:"white",transform:"translate(0.5 0.5)"})})})]}),"Save"]})})]})]})})]}),(0,a.jsxs)(F(),{isOpen:x,onRequestClose:function(){f(!1),C("")},children:[(0,a.jsxs)("h2",{children:["Set Content Hash for"," ",(0,a.jsx)("span",{className:"text-red-600",children:u})]}),(0,a.jsxs)("div",{className:"mt-5 sm:flex sm:items-center",children:[(0,a.jsxs)("div",{className:"w-full sm:max-w-xs",children:[(0,a.jsx)("label",{htmlFor:"contentHash",className:"sr-only",children:"Content Hash"}),(0,a.jsx)("input",{type:"text",value:w,onChange:e=>C(e.target.value),className:"block w-full bg-white border-[#ffffff29] border border-solid rounded-2xl text-start pl-1 py-1.5 text-white sm:text-sm sm:leading-6",placeholder:"New content hash"})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsxs)("button",{onClick:S,className:"mt-3 flex gap-1 bg-[#FF0800] rounded-2xl w-full items-center justify-center px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:ml-3 sm:mt-0 sm:w-auto",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_627_1287)",children:(0,a.jsx)("path",{d:"M14.6667 3H4.66667C3.74583 3 3 3.74583 3 4.66667V16.3333C3 17.2542 3.74583 18 4.66667 18H16.3333C17.2542 18 18 17.2542 18 16.3333V6.33333L14.6667 3ZM10.5 16.3333C9.12083 16.3333 8 15.2125 8 13.8333C8 12.4542 9.12083 11.3333 10.5 11.3333C11.8792 11.3333 13 12.4542 13 13.8333C13 15.2125 11.8792 16.3333 10.5 16.3333ZM13 8H4.66667V4.66667H13V8Z",fill:"white"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_627_1287",children:(0,a.jsx)("rect",{width:"20",height:"20",fill:"white",transform:"translate(0.5 0.5)"})})})]}),"Save"]})})]})]})]})]})})},E=()=>{let{address:e,chainId:t,isConnected:s}=(0,i.Zc)(),{walletProvider:n}=(0,i.B0)(),[c,o]=(0,l.useState)(!1),[d,x]=(0,l.useState)(!1),f=()=>x(!0),[u,h]=(0,l.useState)([]);async function p(){if(e)try{let t=await fetch("/api/getTLDs/".concat(e)),s=await t.json();s&&Array.isArray(s)&&(h(s),console.log(s))}catch(e){console.error("Failed to fetch tld names:",e)}}return(0,l.useEffect)(()=>{s&&p()},[e,s]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex w-[98%] md:w-full max-w-[774px] flex-col items-start gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8 self-stretch",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-start  gap-1 flex-1 ",children:[(0,a.jsx)("div",{className:"text-[#262626] text-2xl not-italic font-bold ",children:"My TLDs"}),(0,a.jsx)("p",{className:"text-sm text-[#262626] font-normal not-italic",children:"Elevate your project's credibility and security with a custom TLD from Destra Decentralized DNS."})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center cursor-pointer",children:[(0,a.jsx)(m(),{href:"/custom-tlds",children:(0,a.jsx)("p",{className:"underline text-[#737373] text-sm font-medium not-italic",children:"see All"})}),(0,a.jsx)(j.Z,{})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-6 w-full overflow-x-auto",children:[(0,a.jsx)("div",{className:"flex w-full max-w-[1200px] flex-col items-center justify-between gap-4 px-1 md:px-4",children:u.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex w-full flex-wrap gap-4",children:u.slice(0,4).map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex-none w-[18rem] md:w-[22rem] flex flex-col items-start gap-6 rounded-3xl bg-white px-6 py-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("a",{href:(s=e.txHash,"https://etherscan.io/tx/".concat(s)),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,a.jsx)("path",{d:"M12 22.75C6.07 22.75 1.25 17.93 1.25 12C1.25 6.07 6.07 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 17.93 17.93 22.75 12 22.75ZM12 2.75C6.9 2.75 2.75 6.9 2.75 12C2.75 17.1 6.9 21.25 12 21.25C17.1 21.25 21.25 17.1 21.25 12C21.25 6.9 17.1 2.75 12 2.75Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M9.00023 21.75H8.00023C7.59023 21.75 7.25023 21.41 7.25023 21C7.25023 20.59 7.57023 20.26 7.98023 20.25C6.41023 14.89 6.41023 9.11 7.98023 3.75C7.57023 3.74 7.25023 3.41 7.25023 3C7.25023 2.59 7.59023 2.25 8.00023 2.25H9.00023C9.24023 2.25 9.47023 2.37 9.61023 2.56C9.75023 2.76 9.79023 3.01 9.71023 3.24C7.83023 8.89 7.83023 15.11 9.71023 20.77C9.79023 21 9.75023 21.25 9.61023 21.45C9.47023 21.63 9.24023 21.75 9.00023 21.75Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M15.0004 21.7497C14.9204 21.7497 14.8404 21.7397 14.7604 21.7097C14.3704 21.5797 14.1504 21.1497 14.2904 20.7597C16.1704 15.1097 16.1704 8.88969 14.2904 3.22969C14.1604 2.83969 14.3704 2.40969 14.7604 2.27969C15.1604 2.14969 15.5804 2.35969 15.7104 2.74969C17.7004 8.70969 17.7004 15.2697 15.7104 21.2197C15.6104 21.5497 15.3104 21.7497 15.0004 21.7497Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M12 17.1998C9.21 17.1998 6.43 16.8098 3.75 16.0198C3.74 16.4198 3.41 16.7498 3 16.7498C2.59 16.7498 2.25 16.4098 2.25 15.9998V14.9998C2.25 14.7598 2.37 14.5298 2.56 14.3898C2.76 14.2498 3.01 14.2098 3.24 14.2898C8.89 16.1698 15.12 16.1698 20.77 14.2898C21 14.2098 21.25 14.2498 21.45 14.3898C21.65 14.5298 21.76 14.7598 21.76 14.9998V15.9998C21.76 16.4098 21.42 16.7498 21.01 16.7498C20.6 16.7498 20.27 16.4298 20.26 16.0198C17.57 16.8098 14.79 17.1998 12 17.1998Z",fill:"#FF3838"}),(0,a.jsx)("path",{d:"M20.9998 9.75035C20.9198 9.75035 20.8398 9.74035 20.7598 9.71035C15.1098 7.83035 8.87978 7.83035 3.22978 9.71035C2.82978 9.84035 2.40978 9.63035 2.27978 9.24035C2.15978 8.84035 2.36978 8.42035 2.75978 8.29035C8.71978 6.30035 15.2798 6.30035 21.2298 8.29035C21.6198 8.42035 21.8398 8.85035 21.6998 9.24035C21.6098 9.55035 21.3098 9.75035 20.9998 9.75035Z",fill:"#FF3838"})]})}),(0,a.jsx)("div",{className:"text-center text-base font-semibold not-italic text-[#262626]",children:e.tldName})]}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",onClick:f,children:(0,a.jsx)("path",{d:"M12 12V14C13.1046 14 14 13.1046 14 12H12ZM12 12H10C10 13.1046 10.8954 14 12 14V12ZM12 12V10C10.8954 10 10 10.8954 10 12H12ZM12 12H14C14 10.8954 13.1046 10 12 10V12ZM12 5V7C13.1046 7 14 6.10457 14 5H12ZM12 5H10C10 6.10457 10.8954 7 12 7V5ZM12 5V3C10.8954 3 10 3.89543 10 5H12ZM12 5H14C14 3.89543 13.1046 3 12 3V5ZM12 19V21C13.1046 21 14 20.1046 14 19H12ZM12 19H10C10 20.1046 10.8954 21 12 21V19ZM12 19V17C10.8954 17 10 17.8954 10 19H12ZM12 19H14C14 17.8954 13.1046 17 12 17V19Z",fill:"#262626"})})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4 w-full",children:[(0,a.jsx)("div",{className:"text-center text-sm font-medium not-italic text-[#737373]",children:"Purchased on Aug 2024"}),(0,a.jsx)("div",{className:"text-center text-sm font-medium not-italic text-[#737373]",children:"Expires on: March 2024"})]})]},t)})}),u.length>4&&(0,a.jsx)("div",{className:"w-full flex justify-center mt-4",children:(0,a.jsxs)(m(),{href:"/custom-tlds",className:"flex items-center underline gap-2 text-[#FF3838] font-semibold",children:[(0,a.jsx)("span",{children:"See More"}),(0,a.jsx)(j.Z,{})]})})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center gap-8 self-stretch md:py-12.5",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center gap-2 self-stretch",children:(0,a.jsx)("p",{className:"text-xl sm:text-xl font-bold not-italic text-[#262626]",children:"You do not own any TLDs"})})})})}),(0,a.jsx)(Z.Vq,{onOpenChange:e=>x(e),open:d,children:(0,a.jsxs)(Z.cZ,{className:"w-11/12 border  border-[#fff] bg-[#fff] text-[#262626] backdrop-blur-3xl md:w-full",children:[(0,a.jsx)(Z.fK,{children:(0,a.jsx)(Z.$N,{className:"text-center text-xl font-semibold",children:"Congrats! your TLD is Live!!"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-y-6 py-4 ",children:[(0,a.jsx)(r(),{src:"/success.svg",alt:"alt",className:"w-20",width:500,height:500}),(0,a.jsx)("p",{children:"You can preview it at:"}),(0,a.jsxs)("div",{className:"tld-dilaog flex w-full flex-1 items-center justify-between gap-2.5 p-4",children:[(0,a.jsxs)("p",{className:"max-w-sm truncate font-semibold text-[#FF3838]",children:["https://etherscan.io/tx/$",u.txHash]}),(0,a.jsx)(r(),{src:"/copy.svg",className:"w-6 cursor-pointer",alt:"alt",width:500,height:500,onClick:()=>navigator.clipboard.writeText("https://etherscan.io/tx/".concat(u.txHash))})]})]})]})})]})]})})},D=()=>{let{address:e,chainId:t,isConnected:s}=(0,i.Zc)(),{walletProvider:n}=(0,i.B0)(),r=(0,g.useRouter)(),[c,x]=(0,l.useState)(null),[f,m]=(0,l.useState)("");(0,l.useRef)(null);let[j,C]=(0,l.useState)(null),[v,N]=(0,l.useState)(null),[y,M]=(0,l.useState)(!1),[F,k]=(0,l.useState)(""),[H,Z]=(0,l.useState)(""),[D,L]=(0,l.useState)(!1),[_,A]=(0,l.useState)(!1),[B,T]=(0,l.useState)(!1),[z,P]=(0,l.useState)([]),[R,W]=(0,l.useState)(0),[I,O]=(0,l.useState)(0),[U,$]=(0,l.useState)(0),[q,Q]=(0,l.useState)(0),[X,J]=(0,l.useState)(0),[K,Y]=(0,l.useState)([]),[G,ee]=(0,l.useState)("All Files"),[et,es]=(0,l.useState)(0),[ea,el]=(0,l.useState)(0),[ei,en]=(0,l.useState)(0),[er,ec]=(0,l.useState)(0),[eo,ed]=(0,l.useState)(0),ex=e=>{let t=0,s=0,a=0,l=0;e.forEach(e=>{switch(e.fileName.split(".").pop().toLowerCase()){case"doc":case"docx":case"pdf":case"txt":t+=Number(e.fileSize);break;case"jpg":case"jpeg":case"png":case"gif":s+=Number(e.fileSize);break;case"mp3":case"wav":case"aac":a+=Number(e.fileSize);break;case"mp4":case"avi":case"mkv":l+=Number(e.fileSize)}}),W(t),O(s),$(a),Q(l)},ef=e=>{let t=0,s=0,a=0,l=0;e.forEach(e=>{switch(e.fileName.split(".").pop().toLowerCase()){case"doc":case"docx":case"pdf":case"txt":t+=1;break;case"jpg":case"jpeg":case"png":case"gif":s+=1;break;case"mp3":case"wav":case"aac":a+=1;break;case"mp4":case"avi":case"mkv":l+=1}}),el(t),en(s),ec(a),ed(l)},em=(e,t)=>{switch(e){case"Documents":return t.filter(e=>["doc","docx","pdf","txt"].includes(e.fileName.split(".").pop().toLowerCase()));case"Images":return t.filter(e=>["jpg","jpeg","png","gif"].includes(e.fileName.split(".").pop().toLowerCase()));case"Videos":return t.filter(e=>["mp4","avi","mkv"].includes(e.fileName.split(".").pop().toLowerCase()));case"Audios":return t.filter(e=>["mp3","wav","aac"].includes(e.fileName.split(".").pop().toLowerCase()));default:return t}};return(0,l.useEffect)(()=>{(async()=>{if(n)try{let t=new h.Q(n),s=await t.getSigner(),a=new p.CH("0xf091fD2Eb52595fB00E3f8AB5259f9947E9Ea891",o.Mt,s);C(a);let l=new p.CH("0xb34a24de1f22a5ee71b08388b321e0d47d1b8f0e",d.Mt,s);N(l);let i=await a.getUserFiles(e);P(i),ex(i),ef(i),Y(em(G,i));let r=await l.getUserTotalValidPlanSize(e);es(Number(r)),J(i.length)}catch(e){console.log("Error connecting to metamask",e)}})(),s||r.push("/")},[n,e,s,G]),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row  gap-6 w-full h-full self-stretch",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start gap-6 h-full",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-7 items-start",children:[(0,a.jsx)(w,{}),(0,a.jsx)(u,{})]}),(0,a.jsx)("div",{className:"flex gap-7 items-start",children:(0,a.jsx)(V,{})}),(0,a.jsx)("div",{className:"flex gap-7 items-start",children:(0,a.jsx)(E,{})})]}),(0,a.jsxs)("div",{className:"flex flex-col h-full gap-6",children:[(0,a.jsx)(b,{documentCount:ea,imageCount:ei,audioCount:er,videoCount:eo,totalValidPlanSize:et}),(0,a.jsx)(S,{})]})]})},L=s(62850);function _(){let{open:e}=(0,i.k_)();(0,c.useRouter)();let{isConnected:t}=(0,i.Zc)(),[s,n]=(0,l.useState)(0),[o,d]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{d(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let{switchNetwork:x,currentChainId:f}=(0,L.L)();return(0,l.useEffect)(()=>{1!==f&&x(1)},[f,x]),(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{className:"max-w-screen-2xl  mx-auto w-full h-full flex",children:(0,a.jsx)(D,{})}):(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsxs)("div",{className:" flex flex-col  content-center  item-center gap-4 py-40 h-full gap-y-6",children:[(0,a.jsx)("div",{className:"text-red text-center text-6xl font-semibold not-italic ",children:"Welcome To Destra Unified Dapp"}),(0,a.jsxs)("button",{className:"px-4 py-3 mt-0 mx-auto font-semibold text-black border border-[#e8e3e3] bg-white hover:bg-white text-red-500 rounded-xl flex items-center gap-2",onClick:()=>e(),children:["Connect Wallet",(0,a.jsx)(r(),{src:"/send-v2.svg",alt:"wallet",className:"w-3.5",width:20,height:20})]})]})]})})}},11163:function(e,t,s){e.exports=s(43079)},29161:function(e){"use strict";e.exports=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_registrarAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"string","name":"domain","type":"string"},{"indexed":true,"internalType":"string","name":"hash","type":"string"}],"name":"ContentHashSet","type":"event"},{"inputs":[{"internalType":"string","name":"_domain","type":"string"}],"name":"getContentHash","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"registrar","outputs":[{"internalType":"contract IDestraDNSRegistrarRX02","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_domain","type":"string"},{"internalType":"string","name":"_hash","type":"string"}],"name":"setContentHash","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')}},function(e){e.O(0,[196,691,854,253,91,326,888,774,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);